<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>javascript promise</title>
</head>

<body style="background-color: rgb(142, 124, 124); font-family: sans-serif;"">

    <h1 class=" first">first</h1>
    <h1 class="second">two</h1>
    <h1 class="third">three</h1>
    <h1 class="four">four</h1>
    <script>

        // prmoise with variable

        // let a = true;
        // let prom = new Promise((resolve, failed) => {
        //     if (a) {
        //         resolve("i am fulfiled")
        //     }
        //     else {
        //         failed("i am failed")
        //     }
        // })
        // console.log(prom);

        // promise with function 

        // function show(complete) {
        //     console.log("please wait while we are fatching data...");
        //     return new Promise((okay, cancel) => {
        //         setTimeout(() => {
        //             if (complete) {
        //                 okay("i am success")
        //             }
        //             else {
        //                 cancel("i am failed")
        //             }
        //         }, 2000);
        //     });
        // }

        // show(true).then((result) => {
        //     console.log(result);
        // }).catch((reject) => {
        //     console.log(reject);
        // })


        // promise 
        // let myprom = new Promise((resolve, reject) => {
        //     let a = 1 + 3
        //     if (a === 2) {
        //         resolve("i am true")
        //     }
        //     else {
        //         reject("i am failed")
        //     }
        // });
        // myprom.then(ans => console.log(ans)).catch(ans => console.log(ans));



        // promise all   
        // let p1 = new Promise((resolve, reject) => {
        //     setTimeout(() => {
        //         console.log("first function resoving");
        //         resolve(10)
        //     }, 1000);
        // })
        // let p2 = new Promise((resolve, reject) => {
        //     setTimeout(() => {
        //         console.log("second function resoving");
        //         resolve(20)
        //     }, 2000);
        // })
        // let p3 = new Promise((resolve, reject) => {
        //     setTimeout(() => {
        //         console.log("third function resoving");
        //         resolve(30)
        //     }, 3000);
        // })
        // let ttl = 0;
        // Promise.all([p1, p2, p3]).then((result) => {
        //     console.log(`the result is ${result}`)

        //     for (let i in result) {
        //         ttl += result[i]
        //     }
        //     console.log(`total is ${ttl}`);
        // })
        //     .catch(eror => console.log(`eror is ${eror}`));

        let one = document.querySelector(".first")
        let two = document.querySelector(".second")
        let three = document.querySelector(".third")
        let four = document.querySelector(".four")

        function getdata(element, style, color, time) {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    element.innerHTML = style
                    element.style.color = color
                    resolve();
                }, time);
            })

        }
        getdata(one, "NO 1", "red", 4000)
            .then(() => getdata(two, "NO 2", "cyan", 3000))
            .then(() => getdata(three, "NO 3", "cyan", 2000))
            .then(() => getdata(four, "NO 4", "cyan", 1000))

    </script>
</body>

</html>